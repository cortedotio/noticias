<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clippar Not?cias</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <style>
        :root {
            --primary: #1876d2;
            --primary-light: #3ba9ff;
            --bg-glass: rgba(255,255,255,0.82);
            --bg-glass-strong: rgba(245, 248, 252, 0.96);
            --menu-bg: #f3f7fc;
            --border: #e0e4ed;
            --gray: #8492a6;
        }
        *, *::before, *::after { box-sizing: border-box; }
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            background: linear-gradient(115deg, #e6eefa 0%, #f5f7fa 100%);
            color: #233145;
            min-height: 100vh;
        }
        header {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding: 22px 48px;
            background: var(--bg-glass-strong);
            box-shadow: 0 2px 18px 0 rgba(25,61,111,0.10);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1.5px solid #dde6f7;
        }
        header button {
            padding: 11px 30px;
            margin-left: 12px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            color: #fff;
            border: none;
            border-radius: 40px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            letter-spacing: 0.01em;
            box-shadow: 0 2px 10px 0 rgba(24,118,210,0.10);
            transition: box-shadow 0.2s, transform 0.2s, background 0.15s;
        }
        header button:hover {
            box-shadow: 0 4px 16px 0 rgba(24,118,210,0.20);
            transform: translateY(-2px) scale(1.03);
            background: linear-gradient(90deg, #2997fa, #1876d2 90%);
        }

        .container {
            max-width: 950px;
            margin: 48px auto 40px;
            background: var(--bg-glass);
            padding: 54px 48px 40px;
            border-radius: 24px;
            box-shadow: 0 8px 36px 0 rgba(0,22,61,0.12);
            backdrop-filter: blur(7px);
            position: relative;
        }
        .hidden { display: none; }
        h1 {
            text-align: center;
            font-weight: 800;
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 38px;
            letter-spacing: 0.01em;
        }

        .menu {
            display: flex;
            justify-content: space-between;
            gap: 22px;
            margin-bottom: 24px;
            background: var(--menu-bg);
            border-radius: 20px;
            padding: 10px 18px;
            box-shadow: 0 2px 7px 0 rgba(24, 118, 210, 0.07);
        }
        .menu button {
            flex: 1;
            margin: 0;
            background: transparent;
            color: #233145;
            font-weight: 600;
            font-size: 1.06rem;
            padding: 15px 0;
            border: none;
            border-radius: 15px;
            transition: background 0.13s, color 0.13s;
        }
        .menu button:hover, .menu button:focus {
            background: var(--primary-light);
            color: #fff;
        }

        .informativo-calendar {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 24px;
        }
        .informativo {
            color: var(--gray);
            font-style: italic;
            font-size: 1.04rem;
        }
        .small-calendar {
            padding: 10px 14px;
            border: 1.6px solid var(--border);
            border-radius: 12px;
            background: #f8fafc;
            font-size: 1rem;
            margin-left: auto;
        }

        .company-keywords {
            margin-top: 28px;
            text-align: left;
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: flex-start;
        }
        .company-keywords span {
            background: linear-gradient(93deg, #f0f6ff, #e6f2fb 80%);
            color: #297fb8;
            padding: 8px 18px;
            border-radius: 16px;
            font-weight: 600;
            letter-spacing: 0.01em;
            font-size: 1rem;
            box-shadow: 0 1px 7px 0 rgba(25,61,111,0.09);
        }
        #results { margin-top: 30px; }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 22px;
            background: #fafdff;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: 0 2px 12px 0 rgba(25,61,111,0.06);
        }
        th, td {
            border: none;
            padding: 16px 20px;
            font-size: 1.05rem;
        }
        th {
            background: #eaf1fa;
            font-weight: 800;
            color: #297fb8;
        }
        td {
            background: #fafdff;
            color: #233145;
            font-weight: 500;
        }
        tr.clickable:hover {
            background: #e4f1fc !important;
            cursor: pointer;
        }
        tr:not(:last-child) td { border-bottom: 1px solid #e3ecf6; }

        .form-group {
            margin-bottom: 22px;
            display: flex;
            align-items: center;
            gap: 18px;
        }
        .form-group label {
            flex: 0 0 170px;
            margin-right: 10px;
            font-weight: 700;
            color: #1876d2;
            font-size: 1.08rem;
        }
        .form-group input {
            flex: 1;
            padding: 13px 18px;
            border: 1.7px solid #c1d7f5;
            border-radius: 14px;
            background: #fafdff;
            font-size: 1rem;
            font-weight: 500;
            outline: none;
            transition: border-color 0.18s;
        }
        .form-group input:focus {
            border-color: #44a4fc;
            background: #f4faff;
        }
        .form-group button {
            margin-left: 10px;
            padding: 11px 18px;
            border: none;
            background: var(--primary);
            color: #fff;
            border-radius: 14px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            box-shadow: 0 2px 9px 0 rgba(24,118,210,0.07);
            transition: background 0.13s;
        }
        .form-group button:hover, .form-group button:focus { background: #2997fa; }

        button.action-btn, button.delete-btn {
            display: inline-block;
            padding: 13px 30px;
            margin: 12px 4px 0 0;
            background: var(--primary);
            color: #fff;
            font-weight: 800;
            border: none;
            border-radius: 40px;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 2px 10px 0 rgba(24,118,210,0.09);
            letter-spacing: 0.01em;
            transition: background 0.15s, box-shadow 0.16s, transform 0.15s;
        }
        button.action-btn:hover, button.action-btn:focus {
            background: var(--primary-light);
            box-shadow: 0 4px 18px 0 rgba(24,118,210,0.13);
            transform: translateY(-1px) scale(1.04);
        }
        button.delete-btn {
            background: #e44242 !important;
        }
        button.delete-btn:hover, button.delete-btn:focus {
            background: #c0392b !important;
            box-shadow: 0 2px 10px 0 rgba(224, 66, 66, 0.13);
        }
        a.back-btn {
            color: #1876d2;
            font-size: 1.1rem;
            font-weight: 700;
            text-decoration: none;
            display: inline-block;
            margin-bottom: 22px;
            margin-top: -10px;
            transition: color 0.14s;
        }
        a.back-btn:hover { color: #235aac; text-decoration: underline; }
    </style>
</head>
<body>
    <header>
        <button id="cadastroBtn">Cadastro</button>
    </header>

    <!-- Main Content -->
    <div class="container" id="mainApp">
        <h1 id="companyTitle">Clippar Not?cias</h1>
        <div class="menu">
            <button>Clipping do dia</button>
            <button>Impressos</button>
            <button>TV</button>
            <button>R?dios</button>
            <button>Web</button>
            <button>Capa</button>
        </div>
        <div class="informativo-calendar">
            <div class="informativo">sexta-feira, 20 de Junho de 2025</div>
            <input type="date" id="datePicker" class="small-calendar" />
        </div>
        <!-- Display keywords for current company -->
        <div class="company-keywords" id="companyKeywords"></div>
        <div id="results"></div>
    </div>

    <!-- Consultation Screen -->
    <div id="consultContainer" class="container hidden">
        <a href="#" class="back-btn" id="backFromConsult">? Voltar</a>
        <h1>Consultar Cadastro</h1>
        <div class="form-group">
            <label for="consultSearch">Buscar</label>
            <input type="text" id="consultSearch" placeholder="Buscar..." />
        </div>
        <table id="consultTable">
            <thead>
                <tr><th>Empresa</th><th>Palavra-Chave</th><th>Link de Acesso</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- Registration/Edit Screen -->
    <div id="cadastroContainer" class="container hidden">
        <a href="#" class="back-btn" id="backFromCadastro">? Voltar</a>
        <h1 id="cadHeader">Cadastro</h1>
        <div class="form-group">
            <label for="regCompany">Nome da Empresa</label>
            <input type="text" id="regCompany" placeholder="Empresa" />
            <button id="consultCompanies">Consultar Empresas</button>
        </div>
        <div class="form-group">
            <label for="regKeyword">Palavras-Chave</label>
            <input type="text" id="regKeyword" placeholder="pal1" />
        </div>
        <button class="action-btn" id="addKeyword">Salvar Palavra-Chave</button>
        <button class="action-btn delete-btn" id="deleteReg">Excluir Empresa</button>
    </div>

    <script>
        const companies = {};
        let currentCompany = null;
        const mainApp = document.getElementById('mainApp');
        const consultContainer = document.getElementById('consultContainer');
        const cadastroContainer = document.getElementById('cadastroContainer');
        const keywordsDiv = document.getElementById('companyKeywords');
        const companyTitle = document.getElementById('companyTitle');

        document.getElementById('cadastroBtn').addEventListener('click', () => {
            toggleView('cadastro');
            clearCadastroForm();
            document.getElementById('cadHeader').innerText = 'Novo Cadastro';
        });

        document.getElementById('consultCompanies').addEventListener('click', () => {
            toggleView('consult');
            populateConsultTable();
        });

        document.getElementById('backFromCadastro').addEventListener('click', e => {
            e.preventDefault();
            toggleView('main');
        });
        document.getElementById('backFromConsult').addEventListener('click', e => {
            e.preventDefault();
            toggleView('cadastro');
        });

        document.getElementById('addKeyword').addEventListener('click', () => {
            const comp = document.getElementById('regCompany').value.trim();
            if (!comp) return alert('Empresa obrigat?ria');
            const kw = document.getElementById('regKeyword').value.trim();
            if (!kw) return alert('Digite uma palavra-chave');

            if (!companies[comp]) {
                companies[comp] = { keywords: [] };
            }
            companies[comp].keywords.push(kw);
            document.getElementById('regKeyword').value = '';
            displayKeywords(comp);

            if (confirm('Gostaria de cadastrar mais uma palavra-chave para esta empresa?')) {
                document.getElementById('regCompany').readOnly = true;
            } else {
                clearCadastroForm();
                document.getElementById('regCompany').readOnly = false;
                viewCompany(comp);
            }
        });

        document.getElementById('deleteReg').addEventListener('click', () => {
            const comp = document.getElementById('regCompany').value.trim();
            if (comp && companies[comp] && confirm(`Excluir cadastro ${comp}?`)) {
                delete companies[comp];
                clearCadastroForm();
                toggleView('consult');
                populateConsultTable();
            }
        });

        function displayKeywords(comp) {
            currentCompany = comp;
            keywordsDiv.innerHTML = '';
            if (companies[comp]) {
                companies[comp].keywords.forEach(kw => {
                    const span = document.createElement('span');
                    span.textContent = kw;
                    keywordsDiv.appendChild(span);
                });
            }
        }

        function populateConsultTable() {
            const tbody = document.querySelector('#consultTable tbody'); 
            tbody.innerHTML = '';
            for (const comp in companies) {
                const { keywords } = companies[comp];
                const pageLink = `<a href='#empresa_${encodeURIComponent(comp)}' onclick="goToCompany('${comp}');return false;">Acessar</a>`;
                const tr = document.createElement('tr');
                // N?o adiciona mais o evento de clique na linha!
                tr.innerHTML = `<td>${comp}</td><td>${keywords.join(', ')}</td><td>${pageLink}</td>`;
                tbody.appendChild(tr);
            }
        }

        // Fun??o para ir direto para o painel da empresa (e atualizar o t?tulo)
        function goToCompany(comp) {
            viewCompany(comp);
        }

        function editCompany(comp) {
            currentCompany = comp;
            toggleView('cadastro');
            document.getElementById('cadHeader').innerText = `Editar: ${comp}`;
            document.getElementById('regCompany').value = comp;
            document.getElementById('regCompany').readOnly = true;
            document.getElementById('regKeyword').value = '';
        }

        function viewCompany(comp) {
            currentCompany = comp;
            toggleView('main');
            displayKeywords(comp);
            companyTitle.textContent = comp; // Atualiza o t?tulo com o nome da empresa
        }

        function toggleView(view) {
            mainApp.classList.add('hidden');
            consultContainer.classList.add('hidden');
            cadastroContainer.classList.add('hidden');
            if (view === 'main') mainApp.classList.remove('hidden');
            if (view === 'consult') consultContainer.classList.remove('hidden');
            if (view === 'cadastro') cadastroContainer.classList.remove('hidden');
        }

        function clearCadastroForm() {
            document.getElementById('regCompany').value = '';
            document.getElementById('regKeyword').value = '';
            document.getElementById('regCompany').readOnly = false;
            currentCompany = null;
        }
    </script>
</body>
</html>